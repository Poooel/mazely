<!doctype html>

<head>
    <link rel="icon" href="/assets/favicon.svg" sizes="any" type="image/svg+xml">
    <meta charset="utf-8">
    <!-- CSS -->
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/style.css">

    <!-- JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.11/paper-full.min.js"></script>

    <title>Maze.ly</title>
</head>

<body>
    <button id="openOptions" class="fixed top-0 left-0 h-8 w-8 m-4 transition duration-100 ease-in-out">
        <svg id="gear" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
    </button>
    <canvas id="maze" resize></canvas>
    <div id="modalBackground" class="absolute inset-0 h-full w-full bg-white bg-opacity-75 invisible opacity-0 transition-opacity duration-300 ease-in-out"></div>
    <div id="modal" class="fixed top-0 left-0 m-4 p-8 bg-gray-200 border border-solid border-gray-300 shadow-xl rounded invisible opacity-0 transition-opacity duration-300 ease-in-out">
        <form id="settings" class="grid grid-cols-1 gap-4">
            <h2 class="text-2xl font-bold font-sans">Settings</h2>
            <div class="flex flex-col space-y-2">
                <label for="generatorToUse" class="text-lg font-semibold font-sans">Algorithm to generate the maze</label>
                <select id="generatorToUse" name="generatorToUse" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline"></select>
            </div>
            <div class="flex flex-col space-y-2">
                <label for="solverToUse" class="text-lg font-semibold font-sans">Algorithm to solve the maze</label>
                <select id="solverToUse" name="solverToUse" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline"></select>
            </div>
            <div>
                <details>
                <summary id="advancedSettings" class="cursor-pointer text-xl font-bold font-sans">Advanced settings</summary>
                <div class="grid grid-cols-1 gap-2 pl-4">
                    <div>
                        <details>
                            <summary id="walls" class="cursor-pointer text-lg font-semibold font-sans">Walls</summary>
                            <div class="grid grid-cols-1 gap-1 pl-4">
                                <div>
                                    <input id="enableWalls" name="enableWalls" type="checkbox" class="form-checkbox" checked>
                                    <label for="enableWalls">Enable walls</label>
                                </div>
                                <div class="flex flex-col space-y-2">
                                    <label for="wallThickness">Wall thickness</label>
                                    <input id="wallThickness" name="wallThickness" type="number" min="0" max="30" value="10" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label for="wallColor">Wall color</label>
                                    <input id="wallColor" name="wallColor" type="color">
                                </div>
                            </div>
                        </details>
                    </div>
                    <div>
                        <details>
                            <summary id="cells" class="cursor-pointer text-lg font-semibold font-sans">Cells</summary>
                            <div  class="grid grid-cols-1 gap-2 pl-4">
                                <div class="flex flex-col space-y-2">
                                    <label for="cellSize">Cell size</label>
                                    <input id="cellSize" name="cellSize" type="number" min="0" max="100" value="25" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline">
                                </div>
                                <div>
                                    <label for="cellBackgroundColor">Cell background color</label>
                                    <input id="cellBackgroundColor" name="cellBackgroundColor" type="color" value="#FFFFFF">
                                </div>
                                <div>
                                    <details>
                                        <summary id="xray" class="cursor-pointer text-base font-semibold font-sans">X-Ray</summary>
                                        <div class="grid grid-cols-1 gap-1 pl-4">
                                            <div>
                                                <input id="enableXray" name="enableXray" type="checkbox" class="font-sans text-base">
                                                <label for="enableXray">Enable X-Ray</label>
                                            </div>
                                            <div class="flex flex-col space-y-2">
                                                <label for="xrayColor" class="font-sans">X-Ray color</label>
                                                <select id="xrayColor" name="xrayColor" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline">
                                                    <option value="black">Black</option>
                                                    <option value="blue">Blue</option>
                                                    <option value="red">Red</option>
                                                    <option value="green">Green</option>
                                                    <option value="yellow">Yellow</option>
                                                    <option value="turquoise" selected>Turquoise</option>
                                                    <option value="magenta">Magenta</option>
                                                    <option value="grey">Grey</option>
                                                </select>
                                            </div>
                                        </div>
                                    </details>
                                </div>
                            </div>
                        </details>
                    </div>
                    <div>
                        <details>
                            <summary id="startAndGoal" class="cursor-pointer text-lg font-semibold font-sans">Start & Goal</summary>
                            <div class="grid grid-cols-1 gap-2 pl-4">
                                <div class="flex flex-col space-y-2">
                                    <label for="startAndGoalToUse" class="font-sans">How to place start & goal?</label>
                                    <select id="startAndGoalToUse" name="startAndGoalToUse" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline">
                                        <option value="FARTHEST" selected>Farthest</option>
                                        <option value="RANDOM">Random</option>
                                    </select>
                                </div>
                                <div>
                                    <details>
                                        <summary id="start" class="cursor-pointer text-base font-semibold font-sans">Start</summary>
                                        <div class="grid grid-cols-1 gap-1 pl-4">
                                            <div>
                                                <input id="showStart" name="showStart" type="checkbox">
                                                <label for="showStart">Show start</label>
                                            </div>
                                            <div>
                                                <label for="startColor">Start color</label>
                                                <input id="startColor" name="startColor" type="color" value="#339933">
                                            </div>
                                        </div>
                                    </details>
                                </div>
                                <div>
                                    <details>
                                        <summary id="goal" class="cursor-pointer text-base font-semibold font-sans">Goal</summary>
                                        <div class="grid grid-cols-1 gap-1 pl-4">
                                            <div>
                                                <input id="showGoal" name="showGoal" type="checkbox">
                                                <label for="showGoal">Show goal</label>
                                            </div>
                                            <div>
                                                <label for="goalColor">Goal color</label>
                                                <input id="goalColor" name="goalColor" type="color" value="#cc3300">
                                            </div>
                                        </div>
                                    </details>
                                </div>
                                <div>
                                    <details>
                                        <summary id="path" class="cursor-pointer text-base font-semibold font-sans">Path</summary>
                                        <div class="grid grid-cols-1 gap-1 pl-4 space-y-2">
                                            <div>
                                                <input id="showPath" name="showPath" type="checkbox">
                                                <label for="showPath">Show path</label>
                                            </div>
                                            <div>
                                                <label for="pathColor">Path color</label>
                                                <input id="pathColor" name="pathColor" type="color" value="#ff66ff">
                                            </div>
                                            <div class="flex flex-col space-y-2">
                                                <span>Animation speed</span>
                                                <input id="animationSpeed" name="animationSpeed" type="number" value="100" min="1" max="10000" step="10" class="font-sans border border-solid border-gray-300 hover:border-gray-400 transition duration-100 ease-in-out rounded p-1 focus:outline-none focus:shadow-outline">
                                            </div>
                                            <div class="flex space-x-2 justify-start">
                                                <button id="startAnimation" class="border border-solid border-gray-300 hover:border-gray-400 hover:bg-opacity-25 hover:bg-white transition duration-100 ease-in-out rounded p-1">
                                                    <div class="h-8 w-8">
                                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                        </svg>
                                                    </div>
                                                </button>
                                                <button id="pauseAnimation" class="border border-solid border-gray-300 hover:border-gray-400 hover:bg-opacity-25 hover:bg-white transition duration-100 ease-in-out rounded p-1">
                                                    <div class="h-8 w-8">
                                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                        </svg>
                                                    </div>
                                                </button>
                                                <button id="rewindAnimation" class="border border-solid border-gray-300 hover:border-gray-400 hover:bg-opacity-25 hover:bg-white transition duration-100 ease-in-out rounded p-1">
                                                    <div class="h-8 w-8">
                                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.333 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z" />
                                                        </svg>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </details>
                                </div>
                            </div>
                        </details>
                    </div>
                    <div class="space-y-2">
                        <div class="flex flex-col">
                            <label for="seed" class="text-base font-semibold font-sans">Seed:</label>
                            <input id="seed" name="seed" type="text">
                        </div>
                        <div>
                            <input id="fromSeed" name="fromSeed" type="checkbox" class="form-checkbox">
                            <label for="fromSeed" class="text-base font-sans">Generate from seed</label>
                        </div>
                    </div>
                </div>
            </details>
            </div>
            <input id="generateAndSolve" type="submit" class="border border-solid border-gray-300 bg-transparent hover:border-gray-400 hover:bg-opacity-25 hover:bg-white transition duration-100 ease-in-out rounded p-2 text-base font-semibold cursor-pointer" value="Generate & Solve">
        </form>
        <button id="closeOptions" class="absolute top-0 right-0 m-4 h-8 w-8 rounded-full hover:bg-gray-300 transition duration-100 ease-in-out">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    </div>
    <script>
        // Populate window object with PaperScope
        paper.install(window)
        paper.setup('maze')
    </script>
    <script type="module" src="/dist/index.js"></script>
</body>
